!function(i){var s={};function n(t){if(s[t])return s[t].exports;var e=s[t]={i:t,l:!1,exports:{}};return i[t].call(e.exports,e,e.exports,n),e.l=!0,e.exports}n.m=i,n.c=s,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(i,s,function(t){return e[t]}.bind(null,s));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=264)}({0:function(t,e){t.exports=Vue},1:function(t,e,i){"use strict";function s(t,e,i,s,n,o,r,a){var u,c="function"==typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=i,c._compiled=!0),s&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),r?(u=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},c._ssrRegister=u):n&&(u=a?function(){n.call(this,this.$root.$options.shadowRoot)}:n),u)if(c.functional){c._injectStyles=u;var p=c.render;c.render=function(t,e){return u.call(e),p(t,e)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,u):[u]}return{exports:t,options:c}}i.d(e,"a",function(){return s})},10:function(t,e,i){"use strict";var r=i(8),s=i(2),n=Object(s.f)("swipe-item"),o=n[0],a=n[1];e.a=o({data:function(){return{offset:0}},beforeCreate:function(){this.$parent.swipes.push(this)},destroyed:function(){this.$parent.swipes.splice(this.$parent.swipes.indexOf(this),1)},render:function(t){var e=this.$parent,i=e.vertical,s=e.computedWidth,n=e.computedHeight,o={width:s+"px",height:i?n+"px":"100%",transform:"translate"+(i?"Y":"X")+"("+this.offset+"px)"};return t("div",{class:a(),style:o,on:Object(r.a)({},this.$listeners)},[this.slots()])}})},106:function(t,e,i){t.exports=i.p+"img/gongshang.png"},107:function(t,e,i){t.exports=i.p+"img/jian.png"},108:function(t,e,i){t.exports=i.p+"img/jia.png"},109:function(t,e,i){"use strict";var s=i(30);i.n(s).a},11:function(t,e){t.exports=function(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}},111:function(t,e,i){t.exports=i.p+"img/share_black.png"},112:function(t,e,i){t.exports=i.p+"img/enter.png"},12:function(t,e,s){"use strict";function i(){var t=this,e=t.$createElement,i=t._self._c||e;return"403"!=t.statusCode&&"1"!=t.statusCode?i("div",{staticClass:"err"},[i("img",{staticClass:"img",attrs:{src:s(20),alt:""}}),t._v(" "),503==t.statusCode?i("p",[t._v("当前访问峰值过高，请稍候再试...")]):i("p",[t._v("网络出现了错误，请稍候再试...")]),t._v(" "),i("span",{staticClass:"chongshi",on:{click:t.reload}},[t._v("点击重试")])]):t._e()}i._withStripped=!0;var n={components:{},props:{showErr:{type:String,required:!1},scode:{type:String,required:!1}},data:function(){return{statusCode:"1"}},watch:{scode:function(t){0<=t&&(this.statusCode=t)}},computed:{},created:function(){},mounted:function(){},methods:{reload:function(){this.$emit("reload")}}},o=(s(21),s(1)),r=Object(o.a)(n,i,[],!1,null,"310113f7",null);r.options.__file="src/components/statuserr/statuserr.vue";e.a=r.exports},13:function(t,e,i){"use strict";i(5),i(14)},14:function(t,e,i){},15:function(t,e,i){"use strict";i(5),i(16)},16:function(t,e,i){},2:function(t,e,i){"use strict";var s=i(0),n=i.n(s),o="--";function r(t,e,i){return e?t+i+e:t}function a(i){return function(t,e){return t&&"string"!=typeof t&&(e=t,t=""),t=r(i,t,"__"),e?[t,function e(i,s){if("string"==typeof s)return r(i,s,o);if(Array.isArray(s))return s.map(function(t){return e(i,t)});var n={};return s&&Object.keys(s).forEach(function(t){n[i+o+t]=s[t]}),n}(t,e)]:t}}Object.prototype.hasOwnProperty;var u=n.a.prototype,c=n.a.util.defineReactive;c(u,"$vantLang","zh-CN"),c(u,"$vantMessages",{"zh-CN":{name:"姓名",tel:"电话",save:"保存",confirm:"确认",cancel:"取消",delete:"删除",complete:"完成",loading:"加载中...",telEmpty:"请填写电话",nameEmpty:"请填写姓名",confirmDelete:"确定要删除么",telInvalid:"请填写正确的电话",vanContactCard:{addText:"添加联系人"},vanContactList:{addText:"新建联系人"},vanPagination:{prev:"上一页",next:"下一页"},vanPullRefresh:{pulling:"下拉即可刷新...",loosing:"释放即可刷新..."},vanSubmitBar:{label:"合计："},vanCoupon:{valid:"有效期",unlimited:"无使用门槛",discount:function(t){return t+"折"},condition:function(t){return"满"+t+"元可用"}},vanCouponCell:{title:"优惠券",tips:"使用优惠",count:function(t){return t+"张可用"}},vanCouponList:{empty:"暂无优惠券",exchange:"兑换",close:"不使用优惠",enable:"可使用优惠券",disabled:"不可使用优惠券",placeholder:"请输入优惠码"},vanAddressEdit:{area:"地区",postal:"邮政编码",areaEmpty:"请选择地区",addressEmpty:"请填写详细地址",postalEmpty:"邮政编码格式不正确",defaultAddress:"设为默认收货地址",telPlaceholder:"收货人手机号",namePlaceholder:"收货人姓名",areaPlaceholder:"选择省 / 市 / 区"},vanAddressEditDetail:{label:"详细地址",placeholder:"街道门牌、楼层房间号等信息"},vanAddressList:{add:"新增地址"}}});var p=function(){return u.$vantMessages[u.$vantLang]},d={methods:{slots:function(t,e){void 0===t&&(t="default");var i=this.$slots,s=this.$scopedSlots;return s[t]?s[t](e):i[t]}}},l={type:Array,default:function(){return[]}},h={type:Number,default:0};function f(t){var e=this.name;t.component(e,this),t.component(C("-"+e),this)}function g(i){return{functional:!0,props:i.props,model:i.model,render:function(t,e){return i(t,e.props,function(t){var e=t.scopedSlots||t.data.scopedSlots||{},i=t.slots();return Object.keys(i).forEach(function(t){e[t]||(e[t]=function(){return i[t]})}),e}(e),e)}}}function m(e){return function(t){return"function"==typeof t&&(t=g(t)),t.functional||(t.mixins=t.mixins||[],t.mixins.push(d)),t.props&&function(e){Object.keys(e).forEach(function(t){e[t]===Array?e[t]=l:e[t]===Number&&(e[t]=h)})}(t.props),t.name=e,t.install=f,t}}function v(t){return[m(t="van-"+t),a(t),function(t){var o=C(t)+".";return function(t){for(var e=_(p(),o+t)||_(p(),t),i=arguments.length,s=new Array(1<i?i-1:0),n=1;n<i;n++)s[n-1]=arguments[n];return"function"==typeof e?e.apply(void 0,s):e}}(t)]}i.d(e,"e",function(){return y}),i.d(e,"c",function(){return b}),i.d(e,"d",function(){return k}),i.d(e,"b",function(){return _}),i.d(e,"a",function(){return C}),i.d(e,"f",function(){return v});var y=n.a.prototype.$isServer;function b(t){return null!=t}function k(t){var e=typeof t;return null!==t&&("object"==e||"function"==e)}function _(t,e){var i=e.split("."),s=t;return i.forEach(function(t){s=b(s[t])?s[t]:""}),s}var w=/-(\w)/g;function C(t){return t.replace(w,function(t,e){return e.toUpperCase()})}},20:function(t,e,i){t.exports=i.p+"img/statuserr.png"},21:function(t,e,i){"use strict";var s=i(7);i.n(s).a},212:function(t,e,i){t.exports=i.p+"img/stars.png"},213:function(t,e,i){t.exports=i.p+"img/star.png"},214:function(t,e,i){t.exports=i.p+"img/fz.png"},215:function(t,e,i){t.exports=i.p+"img/gwc.png"},216:function(t,e,i){t.exports=i.p+"img/shandian.png"},217:function(t,e,i){t.exports=i.p+"img/qianbao_comfirm.png"},218:function(t,e,i){"use strict";var s=i(89);i.n(s).a},23:function(t,e,i){},25:function(t,e,i){t.exports=i.p+"img/couponNoData1.png"},264:function(t,e,n){"use strict";n.r(e);n(13);function i(){var i=this,t=i.$createElement,s=i._self._c||t;return s("section",{staticStyle:{opacity:"0",width:"100%",overflow:"hidden"},style:{opacity:i.isDone||"1"!=i.statusCode?"1":"0"},attrs:{id:"sec"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:i.showMark,expression:"showMark"}],staticClass:"mark",attrs:{id:"mark"},on:{click:i.close}}),i._v(" "),s("header",{staticClass:"banner",attrs:{id:"header"}},[s("van-swipe",{staticClass:"ssip",attrs:{autoplay:3e3},on:{change:i.ssipChange}},i._l(i.imgs,function(t,e){return s("van-swipe-item",{key:e},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t,expression:"item"}],on:{click:function(t){return i.bigtu(e)}}})])}),1),i._v(" "),i.msg.isrushbuy&&i.timetext?s("div",{staticClass:"mess"},[i._m(0),i._v(" "),s("span",{staticClass:"time"},[i._v(i._s(i.timetext))])]):i._e(),i._v(" "),s("span",{staticClass:"zsq"},[i._v(i._s(i.swipIdx+"/"+i.imgs.length))])],1),i._v(" "),i._m(1),i._v(" "),s("div",{staticClass:"headtap",attrs:{id:"headtap"}},[s("div",{staticClass:"itm"},[s("div",{staticClass:"item",on:{click:function(t){return i.goplace(0)}}},[i._v("商品")]),i._v(" "),s("div",{staticClass:"item",on:{click:function(t){return i.goplace(1)}}},[i._v("评论")]),i._v(" "),s("div",{staticClass:"item",on:{click:function(t){return i.goplace(2)}}},[i._v("详情")]),i._v(" "),s("div",{ref:"rline",staticClass:"rline",style:{left:i.linewidth*i.curridx+"px"},attrs:{id:"rl"}})])]),i._v(" "),i.installwx?s("div",{staticClass:"share",attrs:{id:"shareicon"},on:{click:i.onshare}},[s("img",{attrs:{src:n(111),alt:""}})]):i._e(),i._v(" "),s("div",{staticClass:"explain"},[s("div",{staticClass:"p",style:i.packageid?"border:none;width:92%":""},[s("p",[i._v(i._s(i.msg.name))])]),i._v(" "),i.packageid?i._e():s("div",{staticClass:"zan"},[i.msg.islike?s("img",{attrs:{src:n(212),alt:""}}):s("img",{attrs:{src:n(213),alt:""},on:{click:i.onlike}}),i._v(" "),s("p",[i._v(i._s(i.msg.likecount))])])]),i._v(" "),s("div",{staticClass:"shuom"},[i._v(i._s(i.msg.secondname))]),i._v(" "),s("div",{staticClass:"pr"},[s("div",{staticClass:"l"},[s("p",{staticClass:"price"},[i._v("￥"+i._s(i._f("toFixed")(i.price))),i.fxshopid?s("span",[i._v("/赚￥"+i._s(i._f("toFixed")(i.msg.commPrice)))]):i._e()]),i._v(" "),s("p",{staticStyle:{"text-decoration":"line-through"}},[i._v("￥"+i._s(i._f("toFixed")(i.oldPrice)))])]),i._v(" "),s("p",{staticClass:"buyn"},[i._v(i._s(i.msg.chenjiaonum)+"人购买")])]),i._v(" "),i.fxshopid&&!i.msg.propackageprice?s("div",{staticClass:"up",style:{left:i.upmove?" -12%":"0"},on:{click:i.uppro}},[i._v("\r\n      "+i._s(i.msg.isup?"已上架":"上架")+"\r\n    ")]):i._e(),i._v(" "),s("div",{staticClass:"coup"},[i.uid?i._e():s("div",{staticClass:"cnnn",on:{click:i.gologin}},[i._m(2),i._v(" "),i._m(3)]),i._v(" "),i.uid&&(i.unGet.length||i.hasGet.length)&&!i.msg.propackageprice?s("div",{staticClass:"h",on:{click:i.showCouponpop}},[s("span",[i._v(i._s(i.unGet?"领券":"已领券"))]),i._v(" "),s("span",[i._v(i._s(i.unGet[0]?i.unGet[0].companyname:i.hasGet[0]?i.hasGet[0].companyname:""))]),i._v(" "),i._l(i.unGet,function(t,e){return i.unGet&&e<2?s("span",{key:e,staticClass:"co"},[i._v(i._s("满"+t.uselimit+"减"+t.facevalue+"元"))]):i._e()}),i._v(" "),i._l(i.hasGet,function(t,e){return!i.unGet&&i.hasGet&&e<2?s("span",{key:e,staticClass:"co"},[i._v(i._s("满"+t.uselimit+"减"+t.facevalue+"元"))]):i._e()})],2):i._e()]),i._v(" "),i.msg.commitmentlist&&0<i.msg.commitmentlist.length?s("div",{staticClass:"ensure",on:{click:i.showsure}},i._l(i.msg.commitmentlist,function(t,e){return s("div",{key:e},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.logoimg,expression:"item.logoimg"}],attrs:{alt:""}}),i._v(" "),s("p",[i._v(i._s(t.name))])])}),0):i._e(),i._v(" "),i.spec?s("div",{staticClass:"choose",style:{display:i.fxshopid&&0!=i.msg.propackageprice?"none":"flex"},on:{click:i.showSpec}},[s("div",[s("span",{attrs:{rel:"skuu"}},[i._v("已选 数量 X "+i._s(i.buyCount)+"、"+i._s(i.skutext))])]),i._v(" "),s("img",{attrs:{src:n(112),alt:""}})]):i._e(),i._v(" "),s("div",{staticClass:"pl",attrs:{id:"pl"}},[s("div",{staticClass:"plall",on:{click:i.toAssessDetaill}},[i._m(4),i._v(" "),i.plMsg?s("div",{staticClass:"plcontent"},i._l(i.plMsg,function(t,e){return s("div",{key:e,staticClass:"item"},[s("div",{staticClass:"l"},[s("img",{attrs:{src:t.photo.Value,alt:""}})]),i._v(" "),s("div",{staticClass:"r"},[s("p",{staticClass:"name"},[i._v(i._s(t.name))]),i._v(" "),s("p",[i._v(i._s(t.content))])])])}),0):s("p",{staticClass:"nopll"},[i._v("暂无评价与问答")])])]),i._v(" "),s("div",{staticClass:"detail",attrs:{id:"detail"}}),i._v(" "),s("div",[s("div",{staticClass:"gongshang",attrs:{id:"gs"},on:{click:function(t){return i.gogongshang()}}},[s("p",[i._v("工商资质")]),i._v(" "),s("img",{attrs:{src:n(106),alt:""}})])]),i._v(" "),s("div",{staticClass:"h_96",staticStyle:{width:"100%"}}),i._v(" "),s("footer",{attrs:{id:"footer"}},[s("div",{staticClass:"l"},[s("div",{on:{click:i.gomain}},[s("img",{attrs:{src:n(214),alt:""}}),i._v(" "),s("p",[i._v("首页")])]),i._v(" "),s("div",{on:{click:i.goshoppingcar}},[s("img",{attrs:{src:n(215),alt:""}}),i._v(" "),s("p",[i._v("购物车")]),i._v(" "),i.shopCarNum?s("span",{staticClass:"cnum"},[i._v(i._s(99<i.shopCarNum?"99+":i.shopCarNum))]):i._e()])]),i._v(" "),i.fxshopid?s("div",{staticClass:"r"},[s("div",{style:{display:i.fxshopid&&0!=i.msg.propackageprice?"none":"flex"},on:{click:i.showSpec}},[s("p",[i._v("省钱购")]),i._v(" "),s("p",[i._v("立省"+i._s(i._f("toFixed")(i.saveMoney)))])]),i._v(" "),s("div",{class:{hasShopid:!(!i.fxshopid||0==i.msg.propackageprice)},on:{click:i.onshare}},[s("p",[i._v("分享赚")]),i._v(" "),s("p",[i._v("立赚"+i._s(i._f("toFixed")(i.msg.commPrice)))])])]):s("div",{staticClass:"r"},[s("div",{staticClass:"ljgm",on:{click:i.showSpec}},[s("p",[i._v("立即购买")])])])]),i._v(" "),s("div",{staticClass:"enPop",staticStyle:{bottom:"-100%"},style:{bottom:i.showEnsure?"0px":"-100%"},attrs:{id:"enPop"},on:{click:i.showsure}},[i.msg&&i.msg.commitmentlist&&0<i.msg.commitmentlist.length?s("ul",i._l(i.msg.commitmentlist,function(t,e){return s("li",{key:e},[s("div",[s("img",{attrs:{src:t.logoimg,alt:""}}),s("span",[i._v(i._s(t.name))])]),i._v(" "),s("p",[i._v(i._s(t.content))])])}),0):i._e()]),i._v(" "),s("specpop",{directives:[{name:"show",rawName:"v-show",value:i.showspec,expression:"showspec"}],attrs:{packageid:i.packageid,pid:i.msg.productid,isopenshop:i.isopenshop},on:{changeData:i.changMsg,shopcarNum:i.getshopcarNum}}),i._v(" "),s("coupon",{directives:[{name:"show",rawName:"v-show",value:i.showCoupon,expression:"showCoupon"}],attrs:{cid:i.msg.companyid,bindData:i.showCoupon,pid:i.msg.productid,rbid:i.msg.isrushbuy?i.msg.rushbuy.rushbuyid:""},on:{closeCou:i.showCouponpop}}),i._v(" "),s("statuserr",{attrs:{scode:i.statusCode},on:{reload:i.errReload}})],1)}var s=n(9),o=(n(15),n(10)),r=n(0),a=n.n(r),u=[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"tt"},[this._v("限时特卖"),e("img",{attrs:{src:n(216),alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"back",attrs:{id:"backicon",onclick:"closeWin()"}},[e("img",{attrs:{src:n(40),alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"cn_n"},[e("img",{attrs:{src:n(217),alt:""}}),this._v(" "),e("p",[this._v("注册就送100元购物礼包")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("p",{staticClass:"ljzc"},[this._v("立即注册")]),this._v(" "),e("img",{staticClass:"enter",attrs:{src:n(112),alt:""}})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"t"},[i("span",{staticClass:"l"},[t._v("商品评论")]),t._v(" "),i("span",[t._v("更多评论"),i("img",{attrs:{src:n(112),alt:""}})])])}];i._withStripped=!0;var c=n(52),p=n(33),d=n(12),l={components:{specpop:c.a,coupon:p.a,statuserr:d.a},props:{},data:function(){return{swipIdx:1,imgs:["../../img/bkg_cover.jpg"],linewidth:0,curridx:0,upmove:!1,shopCarNum:0,plTop:0,detailTop:0,bannerTop:0,showEnsure:!1,showMark:!1,isDone:!1,msg:"",timetext:"",price:0,saveMoney:0,oldPrice:0,isopenshop:!1,fxshopid:window.api?api.getPrefs({sync:!0,key:"SessionShopID"}):$api.getStorage("SessionShopID"),uid:window.api?api.getPrefs({sync:!0,key:"SessionUserID"}):$api.getStorage("SessionUserID"),pid:"",packageid:"",plMsg:"",minbuycount:0,maxbuycount:0,showspec:!1,spec:"",skutext:"",buyCount:1,hasGet:[],unGet:[],showCoupon:!1,installwx:!0,statusCode:"1"}},watch:{},computed:{},created:function(){var i=this;this.pid=pageParam("pid"),this.packageid=pageParam("packageid"),window.api&&api.require("wx").isInstalled(function(t,e){t.installed?i.installwx=!0:i.installwx=!1})},filters:{toFixed:function(t){return t?Number(t).toFixed(2):"0.00"}},mounted:function(){this.bindtop(),this.bindData(),this.linewidth=this.$refs.rline.offsetWidth,$api.byId("headtap").style.paddingTop=getname("statustop")+"px",$api.byId("footer").style.paddingBottom=getname("safeAreaBottom")+"px",$api.byId("sec").style.paddingBottom=getname("safeAreaBottom")+"px",$api.byId("backicon").style.top=parseInt($api.cssVal($api.byId("backicon"),"top"))+Number(getname("statustop"))+"px",$api.byId("shareicon").style.top=parseInt($api.cssVal($api.byId("shareicon"),"top"))+Number(getname("statustop"))+"px",window.api&&api.addEventListener({name:"viewappear"},function(t,e){""!=getname()&&null!=getname()&&(this.uid=getname())})},methods:{bindData:function(){this.getMsg(),this.getpl(),this.getshopcarNum()},getMsg:function(){var r=this,a=this;https({url:siteUrl+"Main/Main/GetProductDetailJson",method:"get",data:{productId:a.pid,yshopid:"",userid:a.uid,fxshopid:a.fxshopid},successBack:function(t){if(t)if(t.success&&1==t.status){var e=t.Data;if(0<(r.msg=e).propackageprice?r.price=e.propackageprice:r.price=e.saleprice,r.oldPrice=e.marketingprice,r.minbuycount=e.minbuycount,r.maxbuycount=e.maxbuycount,JSON.parse(e.album).hasPic?r.imgs=JSON.parse(e.album).piclist:r.imgs=["./img/bk_cover.jpg"],e.openspec&&r.getspec(),e.skuobj&&0<e.skuobj.length&&(r.price=e.skuobj[0].saleprice),e.isrushbuy){r.countTime();var i=JSON.parse(e.rushbuy.specjson)[0];r.price=i.Price,r.oldPrice=e.saleprice}else e.propackageprice&&(r.isopenshop=!0);if(null!=a.fxshopid&&""!=a.fxshopid&&(!pageParam("packageid")&&0==a.msg.propackageprice||a.packzuan()),e.isrushbuy&&e.openspec)JSON.parse(e.rushbuy.commPrice).map(function(t,e){r.msg.skuobj[e].savemoney=Number(t).toFixed(2)});if(null!=e.skuobj&&""!=e.skuobj?(r.msg.commPrice=r.msg.skuobj[0].savemoney,r.saveMoney=r.msg.skuobj[0].savemoney):r.saveMoney=r.msg.commPrice,document.getElementById("detail").innerHTML=e.description,e.description){var s=$api.domAll($api.byId("detail"),"img"),n=[];if(0<s.length)for(var o=0;o<s.length;o++)n.push(s[o].src),$api.attr(s[o],"data-index",o),$api.addEvt(s[o],"click",function(t){var e=t.target.dataset.index;a.bigimg(n,e)})}r.getCoupon()}else promptMsg(t.err);else promptMsg(err.Msg);r.isDone=!0,r.statusCode="1"},errorBack:function(t){r.statusCode=t.statusCode,r.isDone=!0,promptMsg(t.msg)}})},bigtu:function(t){var e=this.imgs;showBigImages(e,t)},bigimg:function(t,e){if(0<=e)showBigImages(t,e);else{var i=[];i.push(t),showBigImages(i,0)}},countTime:function(t){var e=this.msg.rushbuy;if(t&&(this.msg.nowtimetick=Date.now()),e.begintimeticks>this.msg.nowtimetick){var i=(Number(e.begintimeticks)-Number(this.msg.nowtimetick))/1e3;this.count(i,1)}else if(e.endtimeticks>this.msg.nowtimetick){i=(Number(e.endtimeticks)-Number(this.msg.nowtimetick))/1e3;this.count(i,2)}},count:function(n,o){var r=this,a=setInterval(function(){var t=0,e=0,i=0,s=0;0<n&&(t=Math.floor(n/86400),e=Math.floor(n/3600)-24*t,i=Math.floor(n/60)-24*t*60-60*e,s=Math.floor(n)-24*t*60*60-60*e*60-60*i),t<=9&&(t="0"+t),e<=9&&(e="0"+e),i<=9&&(i="0"+i),s<=9&&(s="0"+s),r.timetext=1==o?"距活动开始还剩:"+t+"天"+e+"时"+i+"分"+s+"秒":"距活动结束还剩:"+t+"天"+e+"时"+i+"分"+s+"秒",n<=0&&clearInterval(a),0==s&&0==t&&0==e&&0==i&&(1==o?r.countTime(1):r.timetext=""),n--},1e3)},getspec:function(){var i=this;https({url:siteUrl+"Main/Main/GetProductSkuJson",data:{productId:this.pid},successBack:function(t){if(t.success&&1==t.status){var e=t.Data;0!=i.msg.propackageprice&&(i.msg.skuobj=e.sku,i.price=e.sku[0].packageprice),e.spec.map(function(t){t.spectext=JSON.parse(t.spectext)}),i.spec=e,i.skutext=e.sku[0].skutext}}})},getpl:function(){var i=this;https({url:siteUrl+"Main/Shopping/GetOrderComment",data:{productid:this.pid,currentPage:1,pageSize:2,level:0},successBack:function(t){if(t.success&&1==t.status){var e=t.Data[0].comment;e&&0<e.length&&(i.plMsg=[],e.forEach(function(t,e){e<3&&(t.photo.Value||(t.photo.Value="./img/man.jpg"),i.plMsg.push(t))}))}}})},getCoupon:function(){var e=this;this.msg.isrushbuy?https({url:siteUrl+"Marketing/Coupon/GetCouponListJson",data:{uid:e.uid,ispaltform:3,activityid:e.msg.rushbuy.rushbuyid},successBack:function(t){e.couponBack(t)}}):https({url:siteUrl+"Marketing/Coupon/GetCompanyPlatformCoupon",data:{CompanyID:e.msg.companyid,uid:e.uid,proId:e.pid},successBack:function(t){e.couponBack(t)}})},couponBack:function(t){if(t.success&&1==t.status){var e=[];if(this.msg.isrushbuy)e=t.Data;else{var i=t.CompanyData,s=t.Platform;i.length&&i.forEach(function(t){1==t.prolimit&&e.push(t)}),s.length&&s.forEach(function(t){1==t.prolimit&&e.push(t)})}if(e.length){var n=[],o=[];e.forEach(function(t){!t.isover&&0<t.eachamount-t.getnum&&2!=t.couponType&&3!=t.couponType?o.push(t):t.isget&&n.push(t)}),n.length||(n=""),o.length||(o=""),this.hasGet=n,this.unGet=o,this.$forceUpdate()}}},getshopcarNum:function(){var e=this;e.uid&&(e.packageid?https({url:siteUrl+"Main/PackageShopping/GetCartProCount?uid="+e.uid,data:{uid:e.uid},headers:1,successBack:function(t){t.success&&1==t.status?e.shopCarNum=t.Data?t.Data:"":promptMsg(t.err)}}):https({url:siteUrl+"Main/Shopping/GetCartProCount",data:{uid:e.uid},headers:1,successBack:function(t){t.success&&1==t.status?e.shopCarNum=t.Data?t.Data:"":promptMsg(t.err)}}))},uppro:function(){var e=this,i=e.msg.isup?"1":0;https({url:siteUrl+"Main/Member/UpProduct",data:{proid:e.msg.productid,uid:e.uid,state:i},successBack:function(t){t.success&&1==t.status?0==i?(promptMsg("攸店上架成功"),e.msg.isup=!0):1==i&&(promptMsg("攸店下架成功"),e.msg.isup=!1):promptMsg(t.err)}})},changMsg:function(i){var s=this,n=this;this.skutext=i.skutext,this.buyCount=i.buyCount;this.msg.isrushbuy?JSON.parse(this.msg.rushbuy.specjson).forEach(function(t,e){t.Skuid==i.skuid&&(n.price=t.Price,n.msg.commPrice=s.msg.skuobj[e].savemoney,n.saveMoney=s.msg.skuobj[e].savemoney)}):this.msg.skuobj.forEach(function(t){t.skuid==i.skuid&&(n.price=0!=n.msg.propackageprice?t.packageprice:t.saleprice,n.msg.commPrice=t.savemoney,n.saveMoney=t.savemoney)})},showSpec:function(){this.showspec=!this.showspec,this.showMark=!this.showMark},showCouponpop:function(){this.showCoupon=!this.showCoupon},onlike:function(){var e=this;if(checkLoginStatus()){if(!e.pid)return promptMsg("商品不存在");https({url:siteUrl+"Main/Member/InsertCollection?uid="+e.uid,method:"post",data:{refid:e.pid,uid:e.uid},headers:1,successBack:function(t){t.success?1==t.status?(promptMsg("收藏成功"),e.msg.islike=!0,e.msg.likecount+=1):promptMsg(t.err):checkLoginStatus()&&promptMsg(err.msg)}})}},packzuan:function(){var e=this;https({url:siteUrl+"main/member/GetShopTitleComm",data:{uid:this.uid,yshopid:getname("SessionShopID")},headers:1,successBack:function(t){t.success&&1==t.status?(e.saveMoney=t.Data,e.msg.commPrice=t.Data):promptMsg(t.err)}})},ssipChange:function(t){this.swipIdx=t+1},showsure:function(){this.showEnsure=!this.showEnsure,this.showMark=!this.showMark},close:function(){this.showEnsure=!1,this.showMark=!1,this.showspec=!1},closeCou:function(){this.showCoupon=!1},goplace:function(t,e){0==(this.curridx=t)?window.scrollTo(0,0):1==t?window.scrollTo(0,this.plTop+1):2==t&&window.scrollTo(0,this.detailTop+1)},moveline:function(t){this.curridx=t},toAssessDetaill:function(){openWin({name:"productdetailreview",url:"./productdetailreview.html",rect:{x:0,y:0,w:"auto",h:"auto",marginBottom:getname("safeAreaBottom")},animation:{type:"fade",subType:"from_bottomt",duration:300},pageParam:{pid:pageParam("pid")},bounces:!0,bgColor:"#fff"})},bindtop:function(){var s=this,t=$api.getStorage("statustop")?$api.getStorage("statustop"):0;this.plTop=$api.offset($api.byId("pl")).t,this.detailTop=$api.offset($api.byId("detail")).t,this.bannerTop=$api.offset($api.byId("header")).t-Number(t),window.onscroll=function(){var t=document.documentElement.scrollTop||document.body.scrollTop;t>s.detailTop?document.getElementById("rl").style.left=2*s.linewidth+"px":t>s.plTop?document.getElementById("rl").style.left=1*s.linewidth+"px":document.getElementById("rl").style.left=0;var e=(t-s.bannerTop)/300;e=1<e?1:e,t<=10&&(e=0),$api.css($api.byId("headtap"),"opacity:"+e),clearTimeout(i);var i=null;s.upmove=!0,i=setTimeout(function(){s.upmove=!1},3e3)};var e=document.documentElement.clientHeight||document.body.clientHeight;$api.css($api.byId("mark"),"height:"+e+"px")},onshare:function(){api.openFrame({name:"pro_sharediv",url:"./pro_sharediv.html",rect:{x:0,y:0,w:"auto",h:"auto"},pageParam:{pid:pageParam("pid"),zuan:Number(this.msg.commPrice).toFixed(2),packageid:pageParam("packageid")},bounces:!1,bgColor:"rgba(0,0,0,0)"})},goshoppingcar:function(){checkLoginStatus()&&ReturnToIndex(3)},gomain:function(){ReturnToIndex(0)},gologin:function(){checkLoginStatus()},gogongshang:function(){openWin({name:"commerce",url:"./commerce.html",pageParam:{img:this.msg.blurl,title:"工商资质"}},1)},errReload:function(){this.bindData()}}},h=(n(218),n(1)),f=Object(h.a)(l,i,u,!1,null,null,null);f.options.__file="src/page/productDetail/productDetail.vue";var g=f.exports,m=n(4),v=n.n(m);if(a.a.use(v.a,{throttleWait:200,error:"./img/bkg_cover.jpg",loading:"./img/bkg_cover.jpg"}),openapp)window.apiready=function(){a.a.use(s.a).use(o.a);new a.a({render:function(t){return t(g)}}).$mount("#app")};else{a.a.use(s.a).use(o.a);new a.a({render:function(t){return t(g)}}).$mount("#app")}},3:function(t,e,i){"use strict";i.d(e,"b",function(){return r}),i.d(e,"a",function(){return a}),i.d(e,"c",function(){return u});var n=i(2),o=!1;if(!n.e)try{var s={};Object.defineProperty(s,"passive",{get:function(){o=!0}}),window.addEventListener("test-passive",null,s)}catch(t){}function r(t,e,i,s){void 0===s&&(s=!1),n.e||t.addEventListener(e,i,!!o&&{capture:!1,passive:s})}function a(t,e,i){n.e||t.removeEventListener(e,i)}function u(t,e){"boolean"==typeof t.cancelable&&!t.cancelable||t.preventDefault(),e&&function(t){t.stopPropagation()}(t)}},30:function(t,e,i){},33:function(t,e,i){"use strict";function s(){var s=this,t=s.$createElement,n=s._self._c||t;return n("section",[n("div",{staticClass:"zhezhao",on:{click:s.closeCoupon}}),s._v(" "),n("div",{staticClass:"couponn"},[n("div",{staticClass:"titlel"},[n("div",{staticStyle:{"font-size":"14px",opacity:"0"}},[s._v("1")]),s._v(" "),n("div",{staticClass:"t"},[s._v("领取优惠券")]),s._v(" "),n("div",{staticClass:"guanbi",on:{click:s.closeCoupon}},[n("img",{attrs:{src:i(50),alt:""}})])]),s._v(" "),n("div",{staticClass:"line"}),s._v(" "),n("div",{staticClass:"main"},[n("div",{staticClass:"canget"},[n("div",{staticClass:"cangetHead"},[s._v("可领取优惠券"),s.isshoppingcar?n("span",[s._v("领取后可用于购物车商品")]):s._e()]),s._v(" "),s._l(s.unGet,function(e,i){return n("div",{key:i,staticClass:"item"},[n("div",{staticClass:"left"},[n("div",{staticClass:"price"},[n("span",[s._v("￥")]),s._v(" "),n("span",[s._v(s._s(e.israandom?"??":e.facevalue))])]),s._v(" "),n("span",[s._v("满"+s._s(e.uselimit)+"元可用")])]),s._v(" "),n("div",{staticClass:"right"},[n("div",{staticClass:"cexplain"},[n("div",{staticClass:"titlel"},[n("span",[n("span",{staticClass:"tt"},[s._v(s._s(e.companyname))]),s._v(s._s(e.name))])]),s._v(" "),n("div",{staticClass:"content"},[s._v(s._s(e.israandom?"随机券":e.couponalias))]),s._v(" "),n("div",{staticClass:"date"},[s._v(s._s(e.time))])]),s._v(" "),n("div",{staticClass:"btn",on:{click:function(t){return t.stopPropagation(),s.getCoupon(i,e.couponid)}}},[s._v("立即领取")]),s._v(" "),1==e.state||2==e.state?n("div",{staticClass:"closePass"},[s._v(s._s(1==e.state?"即将过期":2==e.state?"已过期":""))]):s._e()])])})],2),s._v(" "),s.unGet?s._e():n("div",{staticClass:"nodataa"},[n("img",{attrs:{src:i(25)}}),s._v(" "),n("span",{staticClass:"p"},[s._v("很遗憾")]),s._v(" "),n("span",[s._v("您暂无可以领取的优惠券")])])])])])}s._withStripped=!0;var n,o=i(11),r=i.n(o),a={props:(n={gbid:{type:String,required:!1},pid:{type:String,required:!1}},r()(n,"gbid",{type:String,required:!1}),r()(n,"cid",{type:String,required:!1}),r()(n,"rbid",{type:String,required:!1}),r()(n,"way",{type:String,required:!1}),r()(n,"bindData",{type:Boolean,required:!1}),n),data:function(){return{isshoppingcar:0,hasGet:"",unGet:"",isgroupbuy:!1,isDone:!1,hasUnGet:!1,uid:"",loadTimer:null}},created:function(){this.uid=window.api?api.getPrefs({sync:!0,key:"SessionUserID"}):$api.getStorage("SessionUserID")},computed:{},watch:{bindData:function(t){t&&this.getMsg()}},methods:{getCoupon:function(i,t){var s=this;https({url:siteUrl+"Marketing/Coupon/ReceiveCoupon",data:{uid:this.uid,couponid:t},headers:1,successBack:function(t){if(t&&t.success&&1==t.status){promptMsg("领取成功");var e=s.unGet[i];""==s.hasGet&&(s.hasGet=[]),e.getnum+=1,e.eachamount-e.getnum<=0?(s.unGet.splice(i,1),0==s.unGet.length&&(s.unGet="")):s.unGet[i]=e,s.hasGet.push(e),s.$forceUpdate()}else if(5==t.status){promptMsg("该优惠券已全部领完了");s.unGet[i];s.unGet.splice(i,1),s.$forceUpdate()}else promptMsg(t.err)}})},getMsg:function(){this.unGet&&0<this.unGet.length||this.hasGet&&0<this.hasGet.length||(this.loadTimer=setTimeout(function(){showLoading()},500)),this.$props.gbid&&(this.isgroupbuy=!0),this.isshoppingcar="shoppingcar"==this.$props.way?1:0,this.$props.gbid?this.getGbCou():this.$props.rbid?this.getRushCoupon():this.$props.pid?this.getProCoupon():this.getComMsg()},getRushCoupon:function(){var i=this;https({url:siteUrl+"Marketing/Coupon/GetCouponListJson",data:{uid:i.uid,ispaltform:3,activityid:this.$props.rbid},header:1,successBack:function(t){if(t.success&&1==t.status){var e=t.Data;e.length?i.screenCoupon(e):i.isDone=!0}else promptMsg(t.err)}})},getGbCou:function(){var i=this;https({url:siteUrl+"Marketing/Coupon/GetCouponListJson",data:{uid:this.uid,ispaltform:3,gbid:this.$props.gbid,comid:this.$props.cid,isgb:!0},successBack:function(t){if(t.success&&1==t.status){var e=t.Data;e.length?i.screenCoupon(e):i.isDone=!0}else promptMsg(t.err)}})},getProCoupon:function(){var e=this;https({url:siteUrl+"Marketing/Coupon/GetCompanyPlatformCoupon",data:{CompanyID:this.$props.cid,uid:this.uid,proId:this.$props.pid},header:1,successBack:function(t){e.proCouponBack(t)}})},proCouponBack:function(t){if(t.success&&1==t.status){var e=[],i=t.CompanyData,s=t.Platform;i.length&&i.forEach(function(t){1==t.prolimit&&e.push(t)}),s.length&&s.forEach(function(t){1==t.prolimit&&e.push(t)}),e.length?this.screenCoupon(e):this.isDone=!0}else promptMsg(t.err)},getComMsg:function(){var i=this;https({url:siteUrl+"Marketing/Coupon/GetCouponListJson",data:{uid:this.uid,comid:this.$props.cid,ispaltform:3},headers:1,successBack:function(t){var e=[];t.success&&1==t.status?t.Data.length&&t.Data.forEach(function(t){e.push(t)}):promptMsg(t.err),e.length?i.screenCoupon(e):i.isDone=!0}})},getTime:function(t,e){var i=t.split(" ")[0],s=e.split(" ")[0],n=i.split("."),o=s.split(".");return n[0]+"年"+n[1]+"月"+n[2]+"日-"+o[0]+"年"+o[1]+"月"+o[2]+"日"},getState:function(t){var e=Date.now(),i=t.replace(/\./g,":").replace(" ",":");i=i.split(":");var s=new Date(i[0],i[1]-1,i[2],i[3],i[4],i[5]),n=Date.parse(new Date(s))-e;return 0<n&&n<=432e6?1:n<=0?2:0},screenCoupon:function(t){var s=this;null!=this.loadTimer&&(hideLoading(),clearTimeout(this.loadTimer),this.loadTimer=null);var n=[],o=[];t.forEach(function(t){if(!t.isover&&0<t.eachamount-t.getnum&&2!=t.couponType&&3!=t.couponType){if(t.time=s.getTime(t.starttime,t.endtime),t.state=s.getState(t.userendtime),o.push(t),t.getnum)if(1<t.getnum)for(var e=0;e<t.getnum;e++)n.push(t);else n.push(t)}else if(t.time=s.getTime(t.starttime,t.endtime),t.state=s.getState(t.userendtime),t.isget)if(1<t.getnum)for(var i=0;i<t.getnum;i++)n.push(t);else n.push(t)}),n.length||(n=""),o.length||(o=""),this.hasGet=n,this.unGet=o,this.$forceUpdate()},closeCoupon:function(){this.$emit("closeCou")}}},u=(i(51),i(1)),c=Object(u.a)(a,s,[],!1,null,null,null);c.options.__file="src/components/coupon_pop/coupon_pop.vue";e.a=c.exports},4:function(t,e,i){
/*!
 * Vue-Lazyload.js v1.2.6
 * (c) 2018 Awe <hilongjw@gmail.com>
 * Released under the MIT License.
 */
t.exports=function(){"use strict";function r(t){t=t||{};var e=arguments.length,i=0;if(1===e)return t;for(;++i<e;){var s=arguments[i];l(t)&&(t=s),a(s)&&n(t,s)}return t}function n(t,e){for(var i in h(t,e),e)if("__proto__"!==i&&(n=e,o=i,Object.prototype.hasOwnProperty.call(n,o))){var s=e[i];a(s)?("undefined"===f(t[i])&&"function"===f(s)&&(t[i]=s),t[i]=r(t[i]||{},s)):t[i]=s}var n,o;return t}function a(t){return"object"===f(t)||"function"===f(t)}function o(t,e){if(t.length){var i=t.indexOf(e);return-1<i?t.splice(i,1):void 0}}function d(t,e){if("IMG"===t.tagName&&t.getAttribute("data-srcset")){var i=t.getAttribute("data-srcset"),s=[],n=t.parentNode,o=n.offsetWidth*e,r=void 0,a=void 0,u=void 0;(i=i.trim().split(",")).map(function(t){t=t.trim(),r=t.lastIndexOf(" "),u=-1===r?(a=t,999998):(a=t.substr(0,r),parseInt(t.substr(r+1,t.length-r-2),10)),s.push([u,a])}),s.sort(function(t,e){if(t[0]<e[0])return-1;if(t[0]>e[0])return 1;if(t[0]===e[0]){if(-1!==e[1].indexOf(".webp",e[1].length-5))return 1;if(-1!==t[1].indexOf(".webp",t[1].length-5))return-1}return 0});for(var c="",p=void 0,d=s.length,l=0;l<d;l++)if((p=s[l])[0]>=o){c=p[1];break}return c}}function u(t,e){for(var i=void 0,s=0,n=t.length;s<n;s++)if(e(t[s])){i=t[s];break}return i}function p(){}var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t=function(){function s(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t}}(),l=function(t){return null==t||"function"!=typeof t&&"object"!==(void 0===t?"undefined":c(t))},h=function(t,e){if(null==t)throw new TypeError("expected first argument to be an object.");if(void 0===e||"undefined"==typeof Symbol)return t;if("function"!=typeof Object.getOwnPropertySymbols)return t;for(var i=Object.prototype.propertyIsEnumerable,s=Object(t),n=arguments.length,o=0;++o<n;)for(var r=Object(arguments[o]),a=Object.getOwnPropertySymbols(r),u=0;u<a.length;u++){var c=a[u];i.call(r,c)&&(s[c]=r[c])}return s},i=Object.prototype.toString,f=function(t){var e=void 0===t?"undefined":c(t);return"undefined"===e?"undefined":null===t?"null":!0===t||!1===t||t instanceof Boolean?"boolean":"string"===e||t instanceof String?"string":"number"===e||t instanceof Number?"number":"function"===e||t instanceof Function?void 0!==t.constructor.name&&"Generator"===t.constructor.name.slice(0,9)?"generatorfunction":"function":void 0!==Array.isArray&&Array.isArray(t)?"array":t instanceof RegExp?"regexp":t instanceof Date?"date":"[object RegExp]"===(e=i.call(t))?"regexp":"[object Date]"===e?"date":"[object Arguments]"===e?"arguments":"[object Error]"===e?"error":"[object Promise]"===e?"promise":function(t){return t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}(t)?"buffer":"[object Set]"===e?"set":"[object WeakSet]"===e?"weakset":"[object Map]"===e?"map":"[object WeakMap]"===e?"weakmap":"[object Symbol]"===e?"symbol":"[object Map Iterator]"===e?"mapiterator":"[object Set Iterator]"===e?"setiterator":"[object String Iterator]"===e?"stringiterator":"[object Array Iterator]"===e?"arrayiterator":"[object Int8Array]"===e?"int8array":"[object Uint8Array]"===e?"uint8array":"[object Uint8ClampedArray]"===e?"uint8clampedarray":"[object Int16Array]"===e?"int16array":"[object Uint16Array]"===e?"uint16array":"[object Int32Array]"===e?"int32array":"[object Uint32Array]"===e?"uint32array":"[object Float32Array]"===e?"float32array":"[object Float64Array]"===e?"float64array":"object"},g=r,y="undefined"!=typeof window,s=y&&"IntersectionObserver"in window,b={event:"event",observer:"observer"},k=function(){function t(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var i=document.createEvent("CustomEvent");return i.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),i}if(y)return"function"==typeof window.CustomEvent?window.CustomEvent:(t.prototype=window.Event.prototype,t)}(),m=function(){if(y){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,e)}catch(t){}return t}}(),_={on:function(t,e,i){var s=3<arguments.length&&void 0!==arguments[3]&&arguments[3];m?t.addEventListener(e,i,{capture:s,passive:!0}):t.addEventListener(e,i,s)},off:function(t,e,i){var s=3<arguments.length&&void 0!==arguments[3]&&arguments[3];t.removeEventListener(e,i,s)}},w=function(t,e,i){var s=new Image;s.src=t.src,s.onload=function(){e({naturalHeight:s.naturalHeight,naturalWidth:s.naturalWidth,src:s.src})},s.onerror=function(t){i(t)}},e=function(t,e){return"undefined"!=typeof getComputedStyle?getComputedStyle(t,null).getPropertyValue(e):t.style[e]},C=function(t){return e(t,"overflow")+e(t,"overflow-y")+e(t,"overflow-x")},x={},S=function(){function c(t){var e=t.el,i=t.src,s=t.error,n=t.loading,o=t.bindType,r=t.$parent,a=t.options,u=t.elRenderer;v(this,c),this.el=e,this.src=i,this.error=s,this.loading=n,this.bindType=o,this.attempt=0,this.naturalHeight=0,this.naturalWidth=0,this.options=a,this.rect=null,this.$parent=r,this.elRenderer=u,this.performanceData={init:Date.now(),loadStart:0,loadEnd:0},this.filter(),this.initState(),this.render("loading",!1)}return t(c,[{key:"initState",value:function(){"dataset"in this.el?this.el.dataset.src=this.src:this.el.setAttribute("data-src",this.src),this.state={error:!1,loaded:!1,rendered:!1}}},{key:"record",value:function(t){this.performanceData[t]=Date.now()}},{key:"update",value:function(t){var e=t.src,i=t.loading,s=t.error,n=this.src;this.src=e,this.loading=i,this.error=s,this.filter(),n!==this.src&&(this.attempt=0,this.initState())}},{key:"getRect",value:function(){this.rect=this.el.getBoundingClientRect()}},{key:"checkInView",value:function(){return this.getRect(),this.rect.top<window.innerHeight*this.options.preLoad&&this.rect.bottom>this.options.preLoadTop&&this.rect.left<window.innerWidth*this.options.preLoad&&0<this.rect.right}},{key:"filter",value:function(){var e=this;(function(t){if(!(t instanceof Object))return[];if(Object.keys)return Object.keys(t);var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(i);return e})(this.options.filter).map(function(t){e.options.filter[t](e,e.options)})}},{key:"renderLoading",value:function(e){var i=this;w({src:this.loading},function(t){i.render("loading",!1),e()},function(){e(),i.options.silent})}},{key:"load",value:function(){var e=this,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:p;return this.attempt>this.options.attempt-1&&this.state.error?(this.options.silent,void i()):this.state.loaded||x[this.src]?(this.state.loaded=!0,i(),this.render("loaded",!0)):void this.renderLoading(function(){e.attempt++,e.record("loadStart"),w({src:e.src},function(t){e.naturalHeight=t.naturalHeight,e.naturalWidth=t.naturalWidth,e.state.loaded=!0,e.state.error=!1,e.record("loadEnd"),e.render("loaded",!1),x[e.src]=1,i()},function(t){e.options.silent,e.state.error=!0,e.state.loaded=!1,e.render("error",!1)})})}},{key:"render",value:function(t,e){this.elRenderer(this,t,e)}},{key:"performance",value:function(){var t="loading",e=0;return this.state.loaded&&(t="loaded",e=(this.performanceData.loadEnd-this.performanceData.loadStart)/1e3),this.state.error&&(t="error"),{src:this.src,state:t,time:e}}},{key:"destroy",value:function(){this.el=null,this.src=null,this.error=null,this.loading=null,this.bindType=null,this.attempt=0}}]),c}(),$="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",M=["scroll","wheel","mousewheel","resize","animationend","transitionend","touchmove"],E={rootMargin:"0px",threshold:0},P=function(p){return function(){function m(t){var e=t.preLoad,i=t.error,s=t.throttleWait,n=t.preLoadTop,o=t.dispatchEvent,r=t.loading,a=t.attempt,u=t.silent,c=void 0===u||u,p=t.scale,d=t.listenEvents,l=(t.hasbind,t.filter),h=t.adapter,f=t.observer,g=t.observerOptions;v(this,m),this.version="1.2.6",this.mode=b.event,this.ListenerQueue=[],this.TargetIndex=0,this.TargetQueue=[],this.options={silent:c,dispatchEvent:!!o,throttleWait:s||200,preLoad:e||1.3,preLoadTop:n||0,error:i||$,loading:r||$,attempt:a||3,scale:p||function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return y?window.devicePixelRatio||t:t}(p),ListenEvents:d||M,hasbind:!1,supportWebp:function(){if(!y)return!1;var t=!0,e=document;try{var i=e.createElement("object");i.type="image/webp",i.style.visibility="hidden",i.innerHTML="!",e.body.appendChild(i),t=!i.offsetWidth,e.body.removeChild(i)}catch(e){t=!1}return t}(),filter:l||{},adapter:h||{},observer:!!f,observerOptions:g||E},this._initEvent(),this.lazyLoadHandler=function(n,o){var r=null,a=0;return function(){if(!r){var t=Date.now()-a,e=this,i=arguments,s=function(){a=Date.now(),r=!1,n.apply(e,i)};o<=t?s():r=setTimeout(s,o)}}}(this._lazyLoadHandler.bind(this),this.options.throttleWait),this.setMode(this.options.observer?b.observer:b.event)}return t(m,[{key:"config",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};g(this.options,t)}},{key:"performance",value:function(){var e=[];return this.ListenerQueue.map(function(t){e.push(t.performance())}),e}},{key:"addLazyBox",value:function(t){this.ListenerQueue.push(t),y&&(this._addListenerTarget(window),this._observer&&this._observer.observe(t.el),t.$el&&t.$el.parentNode&&this._addListenerTarget(t.$el.parentNode))}},{key:"add",value:function(s,n,o){var r=this;if(function(t,e){for(var i=!1,s=0,n=t.length;s<n;s++)if(e(t[s])){i=!0;break}return i}(this.ListenerQueue,function(t){return t.el===s}))return this.update(s,n),p.nextTick(this.lazyLoadHandler);var t=this._valueFormatter(n.value),a=t.src,u=t.loading,c=t.error;p.nextTick(function(){a=d(s,r.options.scale)||a,r._observer&&r._observer.observe(s);var t=Object.keys(n.modifiers)[0],e=void 0;t&&(e=(e=o.context.$refs[t])?e.$el||e:document.getElementById(t)),e||(e=function(t){if(y){if(!(t instanceof HTMLElement))return window;for(var e=t;e&&e!==document.body&&e!==document.documentElement&&e.parentNode;){if(/(scroll|auto)/.test(C(e)))return e;e=e.parentNode}return window}}(s));var i=new S({bindType:n.arg,$parent:e,el:s,loading:u,error:c,src:a,elRenderer:r._elRenderer.bind(r),options:r.options});r.ListenerQueue.push(i),y&&(r._addListenerTarget(window),r._addListenerTarget(e)),r.lazyLoadHandler(),p.nextTick(function(){return r.lazyLoadHandler()})})}},{key:"update",value:function(e,t){var i=this,s=this._valueFormatter(t.value),n=s.src,o=s.loading,r=s.error;n=d(e,this.options.scale)||n;var a=u(this.ListenerQueue,function(t){return t.el===e});a&&a.update({src:n,loading:o,error:r}),this._observer&&(this._observer.unobserve(e),this._observer.observe(e)),this.lazyLoadHandler(),p.nextTick(function(){return i.lazyLoadHandler()})}},{key:"remove",value:function(e){if(e){this._observer&&this._observer.unobserve(e);var t=u(this.ListenerQueue,function(t){return t.el===e});t&&(this._removeListenerTarget(t.$parent),this._removeListenerTarget(window),o(this.ListenerQueue,t)&&t.destroy())}}},{key:"removeComponent",value:function(t){t&&(o(this.ListenerQueue,t),this._observer&&this._observer.unobserve(t.el),t.$parent&&t.$el.parentNode&&this._removeListenerTarget(t.$el.parentNode),this._removeListenerTarget(window))}},{key:"setMode",value:function(t){var e=this;s||t!==b.observer||(t=b.event),(this.mode=t)===b.event?(this._observer&&(this.ListenerQueue.forEach(function(t){e._observer.unobserve(t.el)}),this._observer=null),this.TargetQueue.forEach(function(t){e._initListen(t.el,!0)})):(this.TargetQueue.forEach(function(t){e._initListen(t.el,!1)}),this._initIntersectionObserver())}},{key:"_addListenerTarget",value:function(e){if(e){var t=u(this.TargetQueue,function(t){return t.el===e});return t?t.childrenCount++:(t={el:e,id:++this.TargetIndex,childrenCount:1,listened:!0},this.mode===b.event&&this._initListen(t.el,!0),this.TargetQueue.push(t)),this.TargetIndex}}},{key:"_removeListenerTarget",value:function(i){var s=this;this.TargetQueue.forEach(function(t,e){t.el===i&&(--t.childrenCount||(s._initListen(t.el,!1),s.TargetQueue.splice(e,1),t=null))})}},{key:"_initListen",value:function(e,i){var s=this;this.options.ListenEvents.forEach(function(t){return _[i?"on":"off"](e,t,s.lazyLoadHandler)})}},{key:"_initEvent",value:function(){var n=this;this.Event={listeners:{loading:[],loaded:[],error:[]}},this.$on=function(t,e){n.Event.listeners[t]||(n.Event.listeners[t]=[]),n.Event.listeners[t].push(e)},this.$once=function(e,i){var s=n;n.$on(e,function t(){s.$off(e,t),i.apply(s,arguments)})},this.$off=function(t,e){if(e)o(n.Event.listeners[t],e);else{if(!n.Event.listeners[t])return;n.Event.listeners[t].length=0}},this.$emit=function(t,e,i){n.Event.listeners[t]&&n.Event.listeners[t].forEach(function(t){return t(e,i)})}}},{key:"_lazyLoadHandler",value:function(){var e=this,i=[];this.ListenerQueue.forEach(function(t,e){if(!t.state.error&&t.state.loaded)return i.push(t);t.checkInView()&&t.load()}),i.forEach(function(t){return o(e.ListenerQueue,t)})}},{key:"_initIntersectionObserver",value:function(){var e=this;s&&(this._observer=new IntersectionObserver(this._observerHandler.bind(this),this.options.observerOptions),this.ListenerQueue.length&&this.ListenerQueue.forEach(function(t){e._observer.observe(t.el)}))}},{key:"_observerHandler",value:function(t,e){var i=this;t.forEach(function(e){e.isIntersecting&&i.ListenerQueue.forEach(function(t){if(t.el===e.target){if(t.state.loaded)return i._observer.unobserve(t.el);t.load()}})})}},{key:"_elRenderer",value:function(t,e,i){if(t.el){var s=t.el,n=t.bindType,o=void 0;switch(e){case"loading":o=t.loading;break;case"error":o=t.error;break;default:o=t.src}if(n?s.style[n]='url("'+o+'")':s.getAttribute("src")!==o&&s.setAttribute("src",o),s.setAttribute("lazy",e),this.$emit(e,t,i),this.options.adapter[e]&&this.options.adapter[e](t,this.options),this.options.dispatchEvent){var r=new k(e,{detail:t});s.dispatchEvent(r)}}}},{key:"_valueFormatter",value:function(t){var e=t,i=this.options.loading,s=this.options.error;return function(t){return null!==t&&"object"===(void 0===t?"undefined":c(t))}(t)&&(t.src||this.options.silent,e=t.src,i=t.loading||this.options.loading,s=t.error||this.options.error),{src:e,loading:i,error:s}}}]),m}()},T=function(){function i(t){var e=t.lazy;v(this,i),((this.lazy=e).lazyContainerMananger=this)._queue=[]}return t(i,[{key:"bind",value:function(t,e,i){var s=new L({el:t,binding:e,vnode:i,lazy:this.lazy});this._queue.push(s)}},{key:"update",value:function(e,t,i){var s=u(this._queue,function(t){return t.el===e});s&&s.update({el:e,binding:t,vnode:i})}},{key:"unbind",value:function(e,t,i){var s=u(this._queue,function(t){return t.el===e});s&&(s.clear(),o(this._queue,s))}}]),i}(),I={selector:"img"},L=function(){function o(t){var e=t.el,i=t.binding,s=t.vnode,n=t.lazy;v(this,o),this.el=null,this.vnode=s,this.binding=i,this.options={},this.lazy=n,this._queue=[],this.update({el:e,binding:i})}return t(o,[{key:"update",value:function(t){var e=this,i=t.el,s=t.binding;this.el=i,this.options=g({},I,s.value),this.getImgs().forEach(function(t){e.lazy.add(t,g({},e.binding,{value:{src:"dataset"in t?t.dataset.src:t.getAttribute("data-src"),error:"dataset"in t?t.dataset.error:t.getAttribute("data-error"),loading:"dataset"in t?t.dataset.loading:t.getAttribute("data-loading")}}),e.vnode)})}},{key:"getImgs",value:function(){return function(t){for(var e=t.length,i=[],s=0;s<e;s++)i.push(t[s]);return i}(this.el.querySelectorAll(this.options.selector))}},{key:"clear",value:function(){var e=this;this.getImgs().forEach(function(t){return e.lazy.remove(t)}),this.vnode=null,this.binding=null,this.lazy=null}}]),o}();return{install:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=P(t),s=new i(e),n=new T({lazy:s}),o="2"===t.version.split(".")[0];t.prototype.$Lazyload=s,e.lazyComponent&&t.component("lazy-component",function(t){return{props:{tag:{type:String,default:"div"}},render:function(t){return!1===this.show?t(this.tag):t(this.tag,null,this.$slots.default)},data:function(){return{el:null,state:{loaded:!1},rect:{},show:!1}},mounted:function(){this.el=this.$el,t.addLazyBox(this),t.lazyLoadHandler()},beforeDestroy:function(){t.removeComponent(this)},methods:{getRect:function(){this.rect=this.$el.getBoundingClientRect()},checkInView:function(){return this.getRect(),y&&this.rect.top<window.innerHeight*t.options.preLoad&&this.rect.bottom>0&&this.rect.left<window.innerWidth*t.options.preLoad&&this.rect.right>0},load:function(){this.show=!0,this.state.loaded=!0,this.$emit("show",this)}}}}(s)),e.lazyImage&&t.component("lazy-image",function(n){return{props:{src:[String,Object],tag:{type:String,default:"img"}},render:function(t){return t(this.tag,{attrs:{src:this.renderSrc}},this.$slots.default)},data:function(){return{el:null,options:{src:"",error:"",loading:"",attempt:n.options.attempt},state:{loaded:!1,error:!1,attempt:0},rect:{},renderSrc:""}},watch:{src:function(){this.init(),n.addLazyBox(this),n.lazyLoadHandler()}},created:function(){this.init(),this.renderSrc=this.options.loading},mounted:function(){this.el=this.$el,n.addLazyBox(this),n.lazyLoadHandler()},beforeDestroy:function(){n.removeComponent(this)},methods:{init:function(){var t=n._valueFormatter(this.src),e=t.src,i=t.loading,s=t.error;this.state.loaded=!1,this.options.src=e,this.options.error=s,this.options.loading=i,this.renderSrc=this.options.loading},getRect:function(){this.rect=this.$el.getBoundingClientRect()},checkInView:function(){return this.getRect(),y&&this.rect.top<window.innerHeight*n.options.preLoad&&this.rect.bottom>0&&this.rect.left<window.innerWidth*n.options.preLoad&&this.rect.right>0},load:function(){var i=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p;if(this.state.attempt>this.options.attempt-1&&this.state.error)return n.options.silent||console.log("VueLazyload log: "+this.options.src+" tried too more than "+this.options.attempt+" times"),void t();var e=this.options.src;w({src:e},function(t){var e=t.src;i.renderSrc=e,i.state.loaded=!0},function(t){i.state.attempt++,i.renderSrc=i.options.error,i.state.error=!0})}}}}(s)),o?(t.directive("lazy",{bind:s.add.bind(s),update:s.update.bind(s),componentUpdated:s.lazyLoadHandler.bind(s),unbind:s.remove.bind(s)}),t.directive("lazy-container",{bind:n.bind.bind(n),update:n.update.bind(n),unbind:n.unbind.bind(n)})):(t.directive("lazy",{bind:s.lazyLoadHandler.bind(s),update:function(t,e){g(this.vm.$refs,this.vm.$els),s.add(this.el,{modifiers:this.modifiers||{},arg:this.arg,value:t,oldValue:e},{context:this.vm})},unbind:function(){s.remove(this.el)}}),t.directive("lazy-container",{update:function(t,e){n.update(this.el,{modifiers:this.modifiers||{},arg:this.arg,value:t,oldValue:e},{context:this.vm})},unbind:function(){n.unbind(this.el)}}))}}}()},40:function(t,e,i){t.exports=i.p+"img/icon-back.png"},5:function(t,e,i){},50:function(t,e,i){t.exports=i.p+"img/guanbi1.png"},51:function(t,e,i){"use strict";var s=i(23);i.n(s).a},52:function(t,e,i){"use strict";function s(){var n=this,t=n.$createElement,o=n._self._c||t;return o("div",[o("div",{staticClass:"specpop"},[o("div",{staticClass:"head"},[o("div",{staticClass:"pic"},[o("img",{attrs:{src:n.msg.pic,alt:""}})]),n._v(" "),o("div",{staticClass:"r"},[o("span",{staticClass:"priceee"},[n._v("￥"+n._s(n._f("toFixed")(n.price*n.buyCount)))]),n._v(" "),o("span",[n._v("已选:"+n._s(n.skutext?n.skutext:"")+" X "+n._s(n.buyCount))])])]),n._v(" "),o("div",{staticClass:"con"},[n._l(n.spec,function(t,s){return o("div",{key:s,staticClass:"item"},[o("div",{staticClass:"tit"},[n._v(n._s(t.specname))]),n._v(" "),o("div",{staticClass:"con"},n._l(t.spectext,function(e,i){return o("div",{key:i,class:n.bindClass(s,i),on:{click:function(t){return n.changSku(e.valueid,s,i)}}},[n._v(n._s(e.ctmtext))])}),0)])}),n._v(" "),o("div",{staticClass:"nn"},[o("div",{staticClass:"tit"},[n._v("购买数量")]),n._v(" "),o("div",{staticClass:"numbox"},[o("div",{staticClass:"countt",on:{click:function(t){return n.changCount(-1)}}},[o("img",{attrs:{src:i(107),alt:""}})]),n._v(" "),o("div",{staticClass:"num"},[n._v(n._s(n.buyCount))]),n._v(" "),o("div",{staticClass:"countp",on:{click:function(t){return n.changCount(1)}}},[o("img",{attrs:{src:i(108),alt:""}})])])])],2),n._v(" "),o("div",{ref:"foot",staticClass:"foot"},[o("div",{directives:[{name:"show",rawName:"v-show",value:!n.isopenshop&&!n.groupbuyid,expression:"!isopenshop && !groupbuyid"}],on:{click:n.addCar}},[n._v("加入购物车")]),n._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:!n.groupbuyid,expression:"!groupbuyid"}],class:n.isopenshop?"buy":"",on:{click:n.buyNow}},[n._v("立即购买")]),n._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:n.groupbuyid&&n.isgroupbuy,expression:"groupbuyid && isgroupbuy"}],staticClass:"gbb",on:{click:n.gogroupbuy}},[n._v("拼团购")]),n._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:n.groupbuyid&&!n.isgroupbuy,expression:"groupbuyid && !isgroupbuy"}],staticClass:"zjm",on:{click:n.groupbuynow}},[n._v("直接买")])])])])}s._withStripped=!0;var n={components:{},props:{pid:{type:String,required:!1},gbid:{type:String,required:!1},orderid:{type:String,required:!1},gbPrice:{type:Number,required:!1},gbskuid_prop:{type:String,required:!1},openGroupbuy:{type:Number,required:!1},isopenshop:{type:Boolean,required:!1},packageid:{type:String,required:!1}},data:function(){return{isgroupbuy:!1,groupbuyid:"",stocks:0,msg:"",productid:this.$props.pid,price:0,spec:"",sku:"",gbsku:"",rushsku:"",specval:"",skuid:"",gbskuid:"",skutext:"",buyCount:1,minBuyCount:0,maxBuyCount:0,uid:window.api?api.getPrefs({sync:!0,key:"SessionUserID"}):$api.getStorage("SessionUserID"),fxshopid:window.api?api.getPrefs({sync:!0,key:"SessionShopID"}):$api.getStorage("SessionShopID")}},watch:{pid:function(t){this.getProMsg()},gbid:function(t){this.groupbuyid=t},openGroupbuy:function(t){var i=this;(this.isgroupbuy=t)&&this.gbsku&&""!=this.gbsku?this.sku.forEach(function(t,e){t.skuid==i.skuid&&(i.price=i.gbsku[e].gbskuPrice)}):t?this.price=this.$props.gbPrice:this.sku?this.sku.forEach(function(t,e){t.skuid==i.skuid&&(i.price=t.saleprice)}):this.price=this.msg.saleprice}},filters:{toFixed:function(t){return t?Number(t).toFixed(2):"0.00"}},computed:{},created:function(){},mounted:function(){this.$refs.foot.style.paddingBottom=Number(getname("safeAreaBottom"))+"px"},methods:{getProMsg:function(){var i=this;this.groupbuyid=this.$props.gbid,https({url:siteUrl+"Main/Main/GetProductDetailJson",method:"get",data:{productId:this.$props.pid,yshopid:"",userid:this.uid,fxshopid:this.fxshopid},successBack:function(t){if(t)if(t.success&&1==t.status){var e=t.Data;0<(i.msg=e).propackageprice?i.price=e.propackageprice:e.isrushbuy?(i.rushsku=JSON.parse(e.rushbuy.specjson),i.price=JSON.parse(e.rushbuy.specjson)[0].Price):i.price=e.saleprice,i.minBuyCount=e.minbuycount,i.maxBuyCount=e.maxbuycount,i.stocks=e.stock,e.openspec&&i.getMsg()}else prompt(t.err);else promptMsg(err.Msg)}})},getMsg:function(){var i=this;https({url:siteUrl+"Main/Main/GetProductSkuJson",data:{productId:this.$props.pid,gbid:this.$props.gbid||"",fxshopid:getname("SessionShopID")},successBack:function(t){if(t.success&&1==t.status){var e=t.Data;i.sku=e.sku,i.gbsku=e.gbsku,e.spec.map(function(t){t.spectext=JSON.parse(t.spectext)}),i.$props.isopenshop?i.price=e.sku[0].packageprice:i.msg.isrushbuy||(i.price=e.sku[0].saleprice),i.spec=e.spec,i.skutext=e.sku[0].skutext,i.specval=e.sku[0].specval,i.skuid=e.sku[0].skuid,i.stocks=e.sku[0].stock,i.gbskuid=e.gbsku?e.gbsku[0].gbroductskuid:""}}})},changSku:function(t,e,i){var s=this,n=this,o=this.specval.split(",");o[e]=t,this.specval=o.toString(),this.sku.forEach(function(t,e){var i="";i=n.$props.isopenshop?Number(s.sku[e].packageprice).toFixed(2):s.isgroupbuy?Number(s.gbsku[e].gbskuPrice).toFixed(2):s.msg.isrushbuy?Number(s.rushsku[e].Price).toFixed(2):Number(s.sku[e].saleprice).toFixed(2),t.specval==s.specval&&(s.skuid=s.sku[e].skuid,s.gbskuid=s.isgroupbuy?s.gbsku[e].gbroductskuid:"",s.specval=s.sku[e].specval,s.skutext=s.sku[e].skutext,s.price=i,s.stocks=s.sku[e].stock)});for(var r=document.getElementsByClassName("sku"+e),a=0;a<r.length;a++)r[a].classList.remove("select"),a==i&&r[a].classList.add("select");this.$emit("changeData",{skutext:this.skutext,buyCount:this.buyCount,skuid:this.skuid})},changCount:function(t){if(!this.$props.gbid){var e=t,i=this.maxBuyCount,s=this.minBuyCount,n=this.stocks,o=this.buyCount;(-1!=e||(0===s||s<o)&&1<o)&&(1!=e||0===i&&o<n||o<i&&o<n)&&(this.buyCount=this.buyCount+e,this.msg.openspec&&this.$emit("changeData",{skutext:this.skutext,buyCount:this.buyCount,skuid:this.skuid}))}},addCar:function(){var e=this;if(checkLoginStatus()){if(!e.$props.pid)return promptMsg("商品不存在");if(null==e.buyCount||""==e.buyCount||e.buyCount<1)return void promptMsg("请输入正确的数量");if(e.msg.openspec&&(""==e.skutext||""==e.skuid||""==e.price||""==e.specval))return void promptMsg("请选择正确的规格");if(e.$props.isopenshop)return void addopencar();https({url:siteUrl+"Main/Shopping/AddCart?uid="+getname(),method:"post",data:{pId:e.$props.pid,qty:e.buyCount,uid:getname(),valids:e.msg.openspec?e.specval:"",rushbuyid:e.msg.isrushbuy?e.msg.rushbuy.rushbuyid:""},headers:1,successBack:function(t){t.success?1==t.status?(promptMsg("添加成功,请到购物车查看"),e.$emit("shopcarNum")):promptMsg(t.err):checkLoginStatus()&&promptMsg(err.msg)}})}},addopencar:function(){var i=this;https({method:"post",url:siteUrl+"Main/PackageShopping/AddCart?uid="+i.uid,data:{qty:i.buyCount,packageid:api.pageParam.packageid,uid:window.api?api.getPrefs({sync:!0,key:"SessionUserID"}):$api.getStorage("SessionUserID"),valids:i.specval},headers:1,successBack:function(t){if(t.success&&1==t.status){var e=i.$props.packageid?"购物袋":"购物车";promptMsg("添加成功,请到"+e+"查看"),i.$emit("shopcarNum")}else promptMsg(t.err)}})},buyNow:function(){var e=this;if(checkLoginStatus()){if(!e.$props.pid)return promptMsg("商品不存在");if(null==e.buyCount||""==e.buyCount||e.buyCount<1)return void promptMsg("请输入正确的数量");if(e.msg.openspec&&(""==e.skutext||""==e.skuid||""==e.price||""==e.specval))return void promptMsg("请选择正确的规格");if(e.msg.isrushbuy&&e.msg.rushbuy.begintimeticks>this.msg.nowtimetick)return void promptMsg("抢购活动尚未开始，请先加入购物车");if(e.$props.isopenshop)return void e.buyopennow(e.buyCount);https({url:siteUrl+"Main/Shopping/CheckProductBuyStatus",method:"get",data:{uid:window.api?api.getPrefs({sync:!0,key:"SessionUserID"}):$api.getStorage("SessionUserID"),pid:e.$props.pid,buycount:e.buyCount,skuid:e.skuid,rushbuyid:e.msg.isrushbuy?e.msg.rushbuy.rushbuyid:""},headers:1,successBack:function(t){t.success&&1==t.status?openWin({name:"ordercomfirm",url:"./ordercomfirm.html",pageParam:{way:"buynow",qty:e.buyCount,skutext:e.skutext,skuid:e.skuid,gbskuid:e.gbskuid,skuprice:e.price,pid:e.$props.pid,rushbuyid:e.msg.isrushbuy?e.msg.rushbuy.rushbuyid:""}}):promptMsg(t.err)}})}},buyopennow:function(i){var s=this,n=this;https({url:siteUrl+"Main/PackageShopping/CheckPackageBuyStatus",data:{uid:window.api?api.getPrefs({sync:!0,key:"SessionUserID"}):$api.getStorage("SessionUserID"),packageid:n.$props.packageid||"",buycount:i,skuid:n.skuid},headers:1,successBack:function(t){if(t.success&&1==t.status){var e=[];e.push({PackageID:n.$props.packageid,BuyCount:i,SkuID:s.skuid,CompanyID:n.msg.companyid}),openWin({name:"packageordercomfirm",url:"./packageordercomfirm.html",pageParam:{packageselectdata:e,type:1,skuprice:n.price}})}else promptMsg(t.err)}})},bindClass:function(t,e){return 0==e?"sku"+t+" select":"sku"+t},gogroupbuy:function(){var e=(i=this).$props.orderid?i.$props.orderid:"";if(checkLoginStatus()){var i=this;https({url:siteUrl+"Main/Shopping/CheckGroupBuyStatus",method:"get",data:{uid:getname(),gbid:i.$props.gbid},headers:1,successBack:function(t){1==t.status&&t.success?i.gbsku?openWin({name:"ordercomfirm",url:"./ordercomfirm.html",pageParam:{way:"groupbuynow",qty:1,skutext:i.skutext,skuid:i.skuid,gbskuid:i.gbskuid,gbprice:i.price,pid:i.msg.productid,gbid:i.$props.gbid,opengroupid:e}}):openWin({name:"ordercomfirm",url:"./ordercomfirm.html",pageParam:{way:"groupbuynow",qty:1,skutext:"",skuid:i.$props.gbskuid_prop,gbprice:i.price,pid:i.msg.productid,gbid:i.$props.gbid,opengroupid:e}}):promptMsg(t.err)}})}},groupbuynow:function(){if(checkLoginStatus()){var i=this;https({url:siteUrl+"Main/Shopping/CheckProductBuyStatus",method:"get",data:{uid:getname(),pid:i.msg.productid,buycount:i.buyCount},headers:1,successBack:function(t){if(t.success&&1==t.status){var e="";e=i.gbsku?i.skuid:i.$props.gbskuid,openWin({name:"ordercomfirm",url:"./ordercomfirm.html",pageParam:{way:"buynow",qty:1,pid:i.msg.productid,skuid:e,skuprice:i.price}})}else promptMsg(t.err)}})}}}},o=(i(109),i(1)),r=Object(o.a)(n,s,[],!1,null,"7652ebfd",null);r.options.__file="src/components/specpop/specpop.vue";e.a=r.exports},6:function(t,e,i){"use strict";i.d(e,"a",function(){return s});var s={data:function(){return{direction:""}},methods:{touchStart:function(t){this.resetTouchStatus(),this.startX=t.touches[0].clientX,this.startY=t.touches[0].clientY},touchMove:function(t){var e=t.touches[0];this.deltaX=e.clientX-this.startX,this.deltaY=e.clientY-this.startY,this.offsetX=Math.abs(this.deltaX),this.offsetY=Math.abs(this.deltaY),this.direction=this.direction||function(t,e){return e<t&&10<t?"horizontal":t<e&&10<e?"vertical":""}(this.offsetX,this.offsetY)},resetTouchStatus:function(){this.direction="",this.deltaX=0,this.deltaY=0,this.offsetX=0,this.offsetY=0}}}},7:function(t,e,i){},8:function(t,e,i){"use strict";function s(){return(s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t}).apply(this,arguments)}i.d(e,"a",function(){return s})},89:function(t,e,i){},9:function(t,e,i){"use strict";var s=i(2),n=i(3),o=i(6),r=Object(s.f)("swipe"),a=r[0],u=r[1];e.a=a({mixins:[o.a],props:{width:Number,height:Number,autoplay:Number,vertical:Boolean,initialSwipe:Number,indicatorColor:String,loop:{type:Boolean,default:!0},touchable:{type:Boolean,default:!0},showIndicators:{type:Boolean,default:!0},duration:{type:Number,default:500}},data:function(){return{computedWidth:0,computedHeight:0,offset:0,active:0,deltaX:0,deltaY:0,swipes:[],swiping:!1}},mounted:function(){this.initialize(),this.$isServer||Object(n.b)(window,"resize",this.onResize,!0)},activated:function(){this.rendered&&this.initialize(),this.rendered=!0},destroyed:function(){this.clear(),this.$isServer||Object(n.a)(window,"resize",this.onResize,!0)},watch:{swipes:function(){this.initialize()},initialSwipe:function(){this.initialize()},autoplay:function(t){t?this.autoPlay():this.clear()}},computed:{count:function(){return this.swipes.length},delta:function(){return this.vertical?this.deltaY:this.deltaX},size:function(){return this[this.vertical?"computedHeight":"computedWidth"]},trackSize:function(){return this.count*this.size},activeIndicator:function(){return(this.active+this.count)%this.count},isCorrectDirection:function(){var t=this.vertical?"vertical":"horizontal";return this.direction===t},trackStyle:function(){var t,e=this.vertical?"height":"width",i=this.vertical?"width":"height";return(t={})[e]=this.trackSize+"px",t[i]=this[i]?this[i]+"px":"",t.transitionDuration=(this.swiping?0:this.duration)+"ms",t.transform="translate"+(this.vertical?"Y":"X")+"("+this.offset+"px)",t},indicatorStyle:function(){return{backgroundColor:this.indicatorColor}}},methods:{initialize:function(t){if(void 0===t&&(t=this.initialSwipe),clearTimeout(this.timer),this.$el){var e=this.$el.getBoundingClientRect();this.computedWidth=this.width||e.width,this.computedHeight=this.height||e.height}this.swiping=!0,this.active=t,this.offset=1<this.count?-this.size*this.active:0,this.swipes.forEach(function(t){t.offset=0}),this.autoPlay()},onResize:function(){this.initialize(this.activeIndicator)},onTouchStart:function(t){this.touchable&&(this.clear(),this.swiping=!0,this.touchStart(t),this.correctPosition())},onTouchMove:function(t){this.touchable&&this.swiping&&(this.touchMove(t),this.isCorrectDirection&&(Object(n.c)(t,!0),this.move({offset:Math.min(Math.max(this.delta,-this.size),this.size)})))},onTouchEnd:function(){if(this.touchable&&this.swiping){if(this.delta&&this.isCorrectDirection){var t=this.vertical?this.offsetY:this.offsetX;this.move({pace:0<t?0<this.delta?-1:1:0,emitChange:!0})}this.swiping=!1,this.autoPlay()}},move:function(t){var e=t.pace,i=void 0===e?0:e,s=t.offset,n=void 0===s?0:s,o=t.emitChange,r=this.delta,a=this.active,u=this.count,c=this.swipes,p=this.trackSize,d=0===a,l=a===u-1;!this.loop&&(d&&(0<n||i<0)||l&&(n<0||0<i))||u<=1||(c[0]&&(c[0].offset=l&&(r<0||0<i)?p:0),c[u-1]&&(c[u-1].offset=d&&(0<r||i<0)?-p:0),i&&-1<=a+i&&a+i<=u&&(this.active+=i,o&&this.$emit("change",this.activeIndicator)),this.offset=Math.round(n-this.active*this.size))},swipeTo:function(t){var e=this;this.swiping=!0,this.resetTouchStatus(),this.correctPosition(),setTimeout(function(){e.swiping=!1,e.move({pace:t%e.count-e.active,emitChange:!0})},30)},correctPosition:function(){this.active<=-1&&this.move({pace:this.count}),this.active>=this.count&&this.move({pace:-this.count})},clear:function(){clearTimeout(this.timer)},autoPlay:function(){var t=this,e=this.autoplay;e&&1<this.count&&(this.clear(),this.timer=setTimeout(function(){t.swiping=!0,t.resetTouchStatus(),t.correctPosition(),setTimeout(function(){t.swiping=!1,t.move({pace:1,emitChange:!0}),t.autoPlay()},30)},e))}},render:function(i){var s=this,t=this.count,n=this.activeIndicator,e=this.slots("indicator")||this.showIndicators&&1<t&&i("div",{class:u("indicators",{vertical:this.vertical})},[Array.apply(void 0,Array(t)).map(function(t,e){return i("i",{class:u("indicator",{active:e===n}),style:e===n?s.indicatorStyle:null})})]);return i("div",{class:u()},[i("div",{ref:"track",style:this.trackStyle,class:u("track"),on:{touchstart:this.onTouchStart,touchmove:this.onTouchMove,touchend:this.onTouchEnd,touchcancel:this.onTouchEnd}},[this.slots()]),e])}})}});