!function(i){var n={};function s(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return i[e].call(t.exports,t,t.exports,s),t.l=!0,t.exports}s.m=i,s.c=n,s.d=function(e,t,i){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(i,n,function(e){return t[e]}.bind(null,n));return i},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s(s.s=277)}({0:function(e,t){e.exports=Vue},1:function(e,t,i){"use strict";function n(e,t,i,n,s,o,a,c){var r,v="function"==typeof e?e.options:e;if(t&&(v.render=t,v.staticRenderFns=i,v._compiled=!0),n&&(v.functional=!0),o&&(v._scopeId="data-v-"+o),a?(r=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),s&&s.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},v._ssrRegister=r):s&&(r=c?function(){s.call(this,this.$root.$options.shadowRoot)}:s),r)if(v.functional){v._injectStyles=r;var l=v.render;v.render=function(e,t){return r.call(t),l(e,t)}}else{var u=v.beforeCreate;v.beforeCreate=u?[].concat(u,r):[r]}return{exports:e,options:v}}i.d(t,"a",function(){return n})},134:function(e,t,i){"use strict";var n=i(65);i.n(n).a},277:function(e,t,i){"use strict";i.r(t);function n(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",[i("div",{staticClass:"mark",attrs:{id:"mark"},on:{click:t.goclose}}),t._v(" "),i("div",{staticClass:"mainn"},[i("div",{staticClass:"tit"},[t._v("申请发票")]),t._v(" "),i("div",{staticClass:"type"},[i("p",{staticClass:"title"},[t._v("发票类型")]),t._v(" "),i("div",{staticClass:"conton"},[i("div",{staticClass:"conitem",class:{active:0==t.invType},on:{click:function(e){return t.selectType(0)}}},[t._v("不开票")]),t._v(" "),i("div",{staticClass:"conitem",class:{active:1==t.invType},on:{click:function(e){return t.selectType(1)}}},[t._v("普通发票")]),t._v(" "),i("div",{staticClass:"conitem",class:{active:2==t.invType},on:{click:function(e){return t.selectType(2)}}},[t._v("增值税专用发票")])])]),t._v(" "),i("div",{staticClass:"type",class:{closeAll:0==t.invType}},[i("p",{staticClass:"title"},[t._v("发票抬头")]),t._v(" "),i("div",{staticClass:"conton"},[i("div",{staticClass:"conitem",class:{active:1==t.invWho},on:{click:function(e){return t.selectWho(1)}}},[t._v("个人")]),t._v(" "),i("div",{staticClass:"conitem",class:{active:2==t.invWho},on:{click:function(e){return t.selectWho(2)}}},[t._v("公司")])]),t._v(" "),i("input",{directives:[{name:"show",rawName:"v-show",value:0!=t.invType&&2==t.invWho,expression:"invType==0?false:invWho==2?true:false"}],ref:"bus",staticClass:"inp1",attrs:{type:"text",placeholder:"这里填写公司名称"}}),t._v(" "),i("input",{directives:[{name:"show",rawName:"v-show",value:0!=t.invType&&2==t.invWho,expression:"invType==0?false:invWho==2?true:false"}],ref:"den",staticClass:"inp2",attrs:{maxlength:"20",type:"tel",placeholder:"请在此填写纳税人识别号"}})]),t._v(" "),i("div",{staticClass:"type"},[i("p",{staticClass:"title"},[t._v("收票人信息")]),t._v(" "),i("div",{staticClass:"conton flexx"},[i("div",{staticClass:"ema"},[t._v("*收票人邮箱")]),t._v(" "),i("input",{ref:"ema",staticClass:"emainput",attrs:{type:"email",placeholder:"用来接收发票邮件",disabled:0==t.invType}})])]),t._v(" "),i("div",{staticClass:"type",class:{closeAll:0==t.invType}},[i("p",{staticClass:"title"},[t._v("发票内容")]),t._v(" "),i("div",{staticClass:"conton"},[i("div",{staticClass:"conitem",class:{active:1==t.invCon},on:{click:function(e){return t.selectCon(1)}}},[t._v("商品明细")]),t._v(" "),i("div",{staticClass:"conitem",class:{active:2==t.invCon},on:{click:function(e){return t.selectCon(2)}}},[t._v("商品类别")])]),t._v(" "),i("span",{staticClass:"tip"},[t._v("发票内容将详细商品名称与价格信息")])]),t._v(" "),i("div",{staticClass:"confirm",on:{click:t.confirmInv}},[t._v("确认")])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showPop,expression:"showPop"}],staticClass:"commark",attrs:{id:"commark"},on:{click:t.closecom}},[i("div",{staticClass:"com"},[i("p",{staticClass:"titt"},[t._v("请确认纳税人识别号是否正确?")]),t._v(" "),i("p",{staticClass:"numm",attrs:{id:"nssbh"}}),t._v(" "),i("div",{staticClass:"btnbox"},[i("div",{staticClass:"cof",on:{click:t.queren}},[t._v("正确")]),t._v(" "),i("div",{staticClass:"qx",on:{click:t.closecom}},[t._v("取消")])])])])])}var s=i(0),o=i.n(s);n._withStripped=!0;var a={data:function(){return{invType:0,invWho:1,invCon:1,showPop:!1,invoiceJson:""}},created:function(){},mounted:function(){var e=document.documentElement.clientHeight||document.body.clientHeight;if($api.byId("mark").style.height=e+"px",$api.byId("commark").style.height=e+"px",pageParam("invoiceJson")){var t=pageParam("invoiceJson");this.$refs.bus.value=t.IcompanyName,this.$refs.den.value=t.invoiceNumber,this.$refs.ema.value=t.invoiceEmail,this.invWho=t.invoiceTitle,this.invCon=t.invoiceData,this.invType=t.invoiceType}},methods:{selectType:function(e){this.invType=e},selectWho:function(e){this.invWho=e},selectCon:function(e){this.invCon=e},confirmInv:function(){if(this.invType){var e=this.$refs.bus.value.replace(/^\s+/g,"")||"",t=this.$refs.den.value.replace(/^\s+/g,"")||"",i=this.$refs.ema.value.replace(/^\s+/g,""),n=this.invWho,s=this.invCon,o=this.invType;if(""==t&&2==n)return promptMsg("请输入纳税人识别号！");if(""==e&&2==n)return promptMsg("请输入公司名！");if(""==i)return promptMsg("请输入收票人邮箱地址！");if(!/^[a-zA-Z0-9_.-]+@[a-zA-Z0-9-]+(\.[a-zA-Z0-9-]+)*\.[a-zA-Z0-9]{2,6}$/.test(i))return promptMsg("邮箱地址不正确，请重新输入！");this.invoiceJson={IcompanyName:e,invoiceUserName:"",invoiceNumber:t,invoiceEmail:i,invoiceTitle:n,invoiceData:s,invoiceType:o},2==n?($api.byId("nssbh").innerHTML=t,this.showPop=!0):this.queren()}else api.closeFrame()},goclose:function(){api.closeFrame()},closecom:function(){this.showPop=!1},queren:function(){api.sendEvent({name:"invoice_event",extra:{key:this.invoiceJson}}),api.closeFrame()}}},c=(i(134),i(1)),r=Object(c.a)(a,n,[],!1,null,null,null);r.options.__file="src/page/invoice/invoice.vue";var v=r.exports;openapp?window.apiready=function(){new o.a({render:function(e){return e(v)}}).$mount("#app")}:new o.a({render:function(e){return e(v)}}).$mount("#app")},65:function(e,t,i){}});